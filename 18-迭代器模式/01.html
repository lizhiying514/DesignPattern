<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <ul id="list"></ul>
</body>
</html>
<script>
    // 自定义迭代器
    function iterator(arr, callback) {
        for(let i=0; i<arr.length; i++) {
            callback(i, arr[i])
        }
    }

    iterator([11,22,33,44], function(index, value) {
        console.log(index, value)
        let li = document.createElement('li')
        li.innerHTML = value
        list.appendChild(li)
    })


    // Array, Set, Map, String, arguments, NodeList,
    let arr = [5,6,7,8]
    let it = arr[Symbol.iterator]()
    console.log(it.next())
    console.log(it.next())
    console.log(it.next())
    console.log(it.next())
    console.log(it.next())
    console.log(arr)

    // 对象模拟数组，即伪数组使用迭代器
    let obj = {
        0: "张三",
        1: "李四",
        2: "王五",
        3: "赵六",
        length: 4,
        [Symbol.iterator]: Array.prototype[Symbol.iterator]
    }

    for(let item of obj) {
        console.log(item)
    }

</script>

<!-- 
    迭代器模式是指提供一种方法顺序访问一个聚合对象中的各个元素，而又不需要暴露该对象的内部表示。迭代器模式可以把迭代的过程从业务逻辑中分离出来，在使用迭代器模式之后，即使不关心对象的内部构造，也可以按顺序访问其中的每个元素。

    1. 为遍历不同数据结构的“集合”提供统一的接口；
    2. 能遍历访问“集合”数据中的项，不关心项的数据结构
 -->